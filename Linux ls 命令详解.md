如果有一个 Linux 命令使用频度排行榜的话，「ls」肯定榜上有名，而且说不定还是第一名。ls 是目录处理命令，是英文单词 list 的缩写，它的功能是显示某一目录下的文件或子目录。

ls 命令的使用格式是：ls [选项] \[目录名]。中括号代表可选。

# 1. 小试牛刀

ls 最简单的用法就是直接在某一目录下输入 ls，然后回车，会显示当前目录下的所有文件和子目录（不包括隐藏文件）。如下图，

![](https://raw.githubusercontent.com/YoungYo/Linux---Notes/master/images/Linux%20ls%20%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/2019-01-07_201013.png)

如果想查看别的目录所含的文件，可以在 ls 后面跟目录名，比如查看根目录下的所有文件，如下图：

![](https://raw.githubusercontent.com/YoungYo/Linux---Notes/master/images/Linux%20ls%20%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/2019-01-07_220502.png)

若想显示当前目录下包括隐藏文件在内的所有文件和子目录，可以加一个选项「-a」，或「--all」，如下图：

![](https://raw.githubusercontent.com/YoungYo/Linux---Notes/master/images/Linux%20ls%20%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/2019-01-07_203922.png)

同理，若想显示根目录下包括隐藏文件在内的所有文件和子目录，命令为：「ls -a /」

上图中，以「.」开头的文件就是隐藏文件，隐藏文件的作用并不 是要藏起来让用户找不到，而是为了告诉用户，这是系统文件，除非你确定要对该文件进行操作，否则不要轻易动隐藏文件，这就是为什么用户可以很方便地用「ls -a」这条命令查看隐藏文件。如果你想创建一个隐藏文件，和上图一样，只要给这个文件起一个以「.」开头的文件名就可以了。

# 2. 以长格式显示文件信息

「长」的英文单词是「long」，所以，以长格式显示文件信息的命令就是「ls -l」，比如，查看 root 目录下的文件的长格式信息，用这个命令：`ls -l /root`，然后回车，可以看到这样的信息：

![](https://raw.githubusercontent.com/YoungYo/Linux---Notes/master/images/Linux%20ls%20%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/2019-01-07_222705.png)

下面详细解释一下显示的这些信息，在下图中，将文件信息分成 7 个部分。

![](https://raw.githubusercontent.com/YoungYo/Linux---Notes/master/images/Linux%20ls%20%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/%E5%9B%BE%E7%89%871.png)

## 2.1 文件类型与用户权限

第 1 部分显示的是文件类型与用户权限。这一部分又可以分成 4 个小部分，如下图所示：

![](https://raw.githubusercontent.com/YoungYo/Linux---Notes/master/images/Linux%20ls%20%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E5%92%8C%E6%9D%83%E9%99%90.png)

文件类型有三种，`-`表示普通文件，`d`表示目录，`l`表示软连接文件。

剩下的三个部分对应着三种用户对该文件的使用权限。至于什么是所有者、所属组以及其他人，在后面会讲到，先看一下都有哪些权限。以所有者权限为例，第一个是读权限，用`r`表示，第二个是写权限，用`w`表示，第三个是执行权限，用`x`表示，如果是`-`，则表示没有该权限。比如在上图中，我们可以看到，该文件的所有者只有读权限和写权限，没有执行权限；所属组用户只有读权限，没有写权限和执行权限；其他人也是只有读权限，没有写权限和执行权限。

## 2.2 引用计数

第 2 部分是引用计数，这部分不重要，了解即可。

## 2.3 所有者

第 3 部分是该文件的所有者。在 Linux 里面，对于文件来说，它把用户分成了 3 类：所有者、所属组、其他人。一般情况下，谁创建了这个文件，谁就是这个文件的所有者，但是文件的所有者是可以改变的。比如用户 A 创建了一个文件，然后他将该文件的所有权转交给用户 B，此时用户 B 就是这个文件的所有者。一个文件的所有者只能有一个。

## 2.4 所属组

第 4 部分是该文件的所属组。如果想让多个人都对该文件有使用权限，那么可以创建一个所属组，把其他用户加到文件的所属组里面。这样，凡是这个文件的所属组成员，都可以对该文件有相应的权限。当一个用户既不是这个文件的所有者，也不是这个文件的所属组成员的时候，对该文件来讲，这个用户就是其他人。

## 2.5 文件大小

第 5 部分是文件大小。默认单位是字节，也就是 B。这样看起来自然不是很直观，所以 Linux 为我们提供了另一个选项，`h`。`h` 是 human 的缩写，也就是人性化显示文件信息。`h` 选项需要和 `l` 选项一起使用，单独使用 `h` 选项没有任何效果。

![](https://raw.githubusercontent.com/YoungYo/Linux---Notes/master/images/Linux%20ls%20%E5%91%BD%E4%BB%A4%E8%AF%A6%E8%A7%A3/2019-01-16_190055.png)

## 2.6 最后修改时间

第 6 部分是文件的最后修改时间。

## 2.7 文件名

第 7 部分是文件名。

# 3. 查看目录本身信息

当你想查看某个目录本身的信息的时候，你可以加一个`d`选项，输入命令：`ls -ld /etc`，这时系统就会输出 etc 目录本身的信息。

# 4. 查看 i 节点号

在 Linux 中，每个文件或目录都有自己的 i 节点号，就像每个人的身份证号一样。Linux 通过 i 节点号，可以很快地找到对应的文件。查看 i 节点号的选项是`i`，使用方式如下：

```shell
ls -i /root #查看 root 目录下所有文件和子目录的 i 节点号
ls -di /root #查看 root 目录本身的 i 节点号
```

以上就是关于 Linux ls 命令的介绍，更多内容请关注微信公众号 AProgrammer。

![](https://raw.githubusercontent.com/YoungYo/Linux---Notes/master/images/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7%E4%BA%8C%E7%BB%B4%E7%A0%81.jpg)